(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+kLJ":function(t,e,a){},"6qpV":function(t,e,a){"use strict";a.r(e);var s=a("P2sY"),i=a.n(s),o=a("Aozi"),n=Object(o.a)(),r={name:"CurrencyElement",props:{item:{type:Object,required:!0}},data:function(){return{title:"New",formData:{id:null,name:"",code:"",short_name:""},defaultItem:{id:null,name:"",code:"",short_name:""},processing:!1}},created:function(){this.title=null===this.item?"New":this.item.short_name,this.item&&(this.formData=i()({},this.item))},methods:{close:function(){this.$emit("cancel")},store:function(){var t=this;this.processing=!0;var e=null;this.formData.id?(console.log("updating..."),e=n.update("currencies",this.formData.id,this.formData)):(console.log("saving..."),e=n.store("currencies",this.formData)),e.then(function(e){t.processing=!1,t.$emit("stored")}).catch(function(e){t.processing=!1})},getSvgId:function(t){return"#"+t.toLowerCase()}}},l=a("KHd+"),c=a("ZUTo"),d=a.n(c),m=a("gzZi"),u=a("sK+t"),f=a("mdmw"),v=a("pSOK"),h=a("Do8S"),p=a("pyJu"),g=a("jjY0"),x=a("mRA0"),_=a("Jnd4"),D=a("cdmR"),C=a("Kn9U"),w=Object(l.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{color:"appColor",dark:""}},[a("v-toolbar-title",[t._v("Currency: "+t._s(t.title))]),t._v(" "),a("v-spacer"),t._v(" "),a("svg",{staticClass:"lang lang-select-dropdown-item-flag",attrs:{width:"30px",height:"30px"}},[a("use",{attrs:{"xlink:href":t.getSvgId(t.formData.short_name)}})])],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"","d-none":""}},[a("v-text-field",{attrs:{label:"id"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Code (ISO)"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Char code"},model:{value:t.formData.short_name,callback:function(e){t.$set(t.formData,"short_name",e)},expression:"formData.short_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.close()}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{disabled:1==this.processing,color:"green darken-3",flat:""},on:{click:function(e){return t.store()}}},[t._v("Save")])],1),t._v(" "),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:this.processing,expression:"this.processing"}],attrs:{indeterminate:!0}},[a("p",[t._v("process")])])],1)},[],!1,null,"60fb3c06",null),b=w.exports;d()(w,{VBtn:m.a,VCard:u.a,VCardActions:f.a,VCardText:f.b,VContainer:v.a,VFlex:h.a,VLayout:p.a,VProgressLinear:g.a,VSpacer:x.a,VTextField:_.a,VToolbar:D.a,VToolbarTitle:C.b});var y=a("L2JU"),k=a("PLNE"),V=Object(o.a)(),$={data:function(){return{title:"Currencies",modelName:"currency",showDeleteConfirmation:!1,itemForDel:null,dialog:!1,id:null,editItem:null,updating:!1,processing:!1,headers:[{text:"id",value:"id",visibility:"d-none"},{text:"Code",value:"code",visibility:""},{text:"Name",value:"name",visibility:""},{text:"Short name",value:"short_name",visibility:"hidden-md-and-down",sortable:!1,class:"th_font"}],editedIndex:-1,formData:{id:null,name:"",code:"",short_name:""},msgSettings:{show:!1,color:"light-green darken-3",mode:"vertical",timeout:6e3,msg:""}}},components:{"currency-element":b,"tm-modal-del":k.a},computed:Object(y.b)({items:"allCurrencies"}),created:function(){this.$store.commit("setupToolbarMenu",this.getUpMenu())},beforeMount:function(){this.$store.state.title="Currencies",this.$store.dispatch("getAllCurrencies")},methods:{getUpMenu:function(){var t=this;return{mainAction:{title:"add",icon:"add",action:function(){t.add()}},menu:[{title:"update",icon:"update",action:function(){t.update()}},{title:"Load rates",icon:"cloud_download",action:function(){t.$router.push({path:"loadrates"})}},{title:"add from classifier",icon:"cloud_download",action:function(){t.$router.push({path:"loadcurrency"})}}]}},update:function(){0==this.updating&&(this.items=[],this.updating=!0,this.$store.dispatch("getAllCurrencies"),this.updating=!1)},edit:function(t){this.id=t.id,this.editedIndex=this.items.indexOf(t),this.formData=i()({},t),this.dialog=!0},add:function(){this.id=null,this.formData={id:null,name:"",code:"",short_name:""},this.dialog=!0},showDeleteConfirm:function(t){this.itemForDel=t,this.showDeleteConfirmation=!0},closeDeleteConfirmation:function(){this.showDeleteConfirmation=!1,this.itemForDel=null},deleteItem:function(){var t=this;this.showDeleteConfirmation=!1,this.processing=!0,V.delete("currencies",this.itemForDel.id).then(function(e){alert(t.itemForDel.name+" was deleted!"),t.$store.dispatch("getAllCurrencies")}).catch(function(e){alert(t.itemForDel.name+" wasn't deleted!")}).finally(function(){t.itemForDel=null,t.processing=!1})}}},F=(a("HP9+"),a("FpqX")),N=a("Ey0z"),j=Object(l.a)($,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[t.dialog?a("v-dialog",{attrs:{"max-width":"500px",persistent:"",fullscreen:t.$vuetify.breakpoint.xsOnly},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("currency-element",{attrs:{item:this.formData},on:{cancel:function(e){t.dialog=!1},stored:function(e){t.dialog=!1,t.update()}}})],1):t._e(),t._v(" "),a("div",{staticClass:"table-wrapper"},[a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item list-header"},[a("v-layout",{attrs:{row:"","ml-3":""}},[a("v-flex",{staticClass:"cell",attrs:{xs10:"",sm10:"",md10:"",lg11:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"",sm6:""}},[a("span",[t._v("Name")])]),t._v(" "),a("v-flex",{attrs:{xs3:"",sm3:""}},[a("span",[t._v("Code")])]),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("span",[t._v("Char code")])])],1)],1),t._v(" "),a("v-flex",{attrs:{xs2:"",sm2:"",md2:"",lg1:""}},[a("div",{staticClass:"cell-actions justify-content-end"},[a("span",[t._v("Act.")])])])],1)],1),t._v(" "),t._l(t.items,function(e){return a("li",{staticClass:"list-group-item list-item",on:{click:function(a){return t.edit(e)}}},[a("v-layout",{attrs:{row:"","ml-3":""}},[a("v-flex",{staticClass:"cell",attrs:{xs10:"",sm10:"",md10:"",lg11:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"",sm6:""}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("v-flex",{attrs:{xs3:"",sm3:""}},[a("span",[t._v(t._s(e.code))])]),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("span",[t._v(t._s(e.short_name))])])],1)],1),t._v(" "),a("v-flex",{attrs:{xs2:"",sm2:"",md2:"",lg1:""}},[a("div",{staticClass:"cell-actions justify-content-end"},[a("a",{staticClass:"delete",attrs:{"data-toggle":"modal"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.showDeleteConfirm(e)}}},[a("v-icon",{attrs:{color:"#F44336"}},[t._v("delete")])],1)])])],1)],1)})],2)])],1),t._v(" "),a("tm-modal-del",{directives:[{name:"show",rawName:"v-show",value:this.showDeleteConfirmation,expression:"this.showDeleteConfirmation"}],attrs:{dialog:this.showDeleteConfirmation,modelName:this.modelName},on:{close:function(e){return t.closeDeleteConfirmation()},confirm:t.deleteItem}})],1)},[],!1,null,"1368418c",null);e.default=j.exports;d()(j,{VDialog:F.a,VFlex:h.a,VIcon:N.a,VLayout:p.a})},"HP9+":function(t,e,a){"use strict";var s=a("+kLJ");a.n(s).a}}]);