(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+eob":function(t,e,s){"use strict";s.r(e);var r=s("QbLZ"),i=s.n(r),l=s("L2JU"),o=s("jjY0"),a=s("LbRV"),c={data:function(){return{formModified:!1,showWalletSelection:!1,processing:!1,showAlert:!1,alertType:"success",message:"",dirtyElements:[]}},components:{VProgressLinear:o.a,VSnackbar:a.a},computed:i()({},Object(l.c)({currencies:function(t){return t.currencies.all},wallets:function(t){return t.wallets.all},currency:function(t){return t.settings.currency},periods:function(t){return t.dashboard.dashboardSettings.periodicityOptions}}),{currencyReports:{get:function(){return this.$store.state.settings.reportcurrency},set:function(t){this.formModified=!0,this.dirtyElements.includes("currencyReports")||this.dirtyElements.push("currencyReports"),this.$store.commit("setCurrencyReports",t)}},wallet:{get:function(){return this.$store.state.settings.wallet},set:function(t){this.formModified=!0,this.dirtyElements.includes("wallet")||this.dirtyElements.push("wallet"),this.$store.commit("setWallet",t)}},periodicity:{get:function(){return this.$store.state.dashboard.dashboardSettings.periodicity},set:function(t){this.$store.commit("setPeriodicity",t)}}}),beforeMount:function(){this.$store.state.title="Settings",this.$store.commit("setupToolbarMenu",{}),this.$store.dispatch("initializeDashboardSettings"),this.$store.dispatch("getAllWallets"),this.$store.dispatch("getAllCurrencies"),this.$store.dispatch("getSettings")},methods:{openWalletSelectForm:function(){this.showWalletSelection=!0},completeWalletSelectionHandler:function(t){t instanceof Object&&(this.formModified=!0,this.$store.commit("setWallet",t)),this.showWalletSelection=!1},isDirty:function(t){return this.dirtyElements.includes(t)},snackBarColor:function(){return"success"==this.alertType?"success":"error"},storeChanges:function(){var t=this;this.processing=!0,this.showAlert=!1,this.$store.dispatch("storeSettings").then(function(){t.processing=!1,t.formModified=!1,t.dirtyElements=[],t.message="Stored successfully",t.alertType="success",t.showAlert=!0}).catch(function(e){var s="n/a",r="Error";e instanceof Object&&e.hasOwnProperty("status")&&(s=e.status),e instanceof Object&&e.hasOwnProperty("data")&&e.data.hasOwnProperty("error")&&(r=e.data.error),t.processing=!1,t.message="("+s+") "+r,t.alertType="error",t.showAlert=!0})}}},n=(s("7yMK"),s("KHd+")),d=s("ZUTo"),u=s.n(d),p=s("gzZi"),h=Object(n.a)(c,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12 col-sm-6 "},[s("div",{staticClass:"row d-flex px-3"},[s("div",{staticClass:"col-xs-12 w-100"}),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"tm-lable",attrs:{for:"settings_currency_el"}},[t._v("Currency (read only):")]),t._v(" "),s("tm-select",{attrs:{id:"settings_currency_el",options:t.currencies,title:"name",clearable:!0,"select-btn":!0,placeholder:"Select main wallet","read-only":!0},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}})],1)]),t._v(" "),s("div",{staticClass:"row d-flex px-3"},[s("div",{staticClass:"col-xs-12 w-100"}),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"tm-lable",attrs:{for:"settings_main_wallet_el"}},[t._v("Default wallet"),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isDirty("wallet"),expression:"isDirty('wallet')"}]},[t._v(" *")]),t._v(":")]),t._v(" "),s("tm-select",{attrs:{id:"settings_main_wallet_el",options:t.wallets,title:"name",clearable:!0,"select-btn":!0,placeholder:"Select main wallet"},on:{open:t.openWalletSelectForm},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}})],1)]),t._v(" "),s("div",{staticClass:"row d-flex px-3"},[s("div",{staticClass:"col-xs-12 w-100"}),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"tm-lable",attrs:{for:"settings_rep_currency_el"}},[t._v("Currency of dashboard"),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isDirty("currencyReports"),expression:"isDirty('currencyReports')"}]},[t._v(" *")]),t._v(":")]),t._v(" "),s("tm-select",{attrs:{id:"settings_rep_currency_el",options:t.currencies,title:"name",clearable:!0,"select-btn":!0,placeholder:"Select currency for reports"},model:{value:t.currencyReports,callback:function(e){t.currencyReports=e},expression:"currencyReports"}})],1)]),t._v(" "),s("div",{staticClass:"row d-flex px-3"},[t.formModified?s("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:this.processing},on:{click:t.storeChanges}},[t._v("Store changes")]):t._e()]),t._v(" "),s("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:this.processing,expression:"this.processing"}],attrs:{indeterminate:!0}})],1),t._v(" "),s("tm-wallets-select-form",{attrs:{items:this.wallets,showWalletSelection:this.showWalletSelection},on:{"select-wallets-close":t.completeWalletSelectionHandler}}),t._v(" "),s("div",{staticClass:"col-xs-12 col-sm-6"},[s("div",{staticClass:"row d-flex px-3"},[s("div",{staticClass:"col-xs-12 w-100"}),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"tm-lable",attrs:{for:"settings_dash_period_el"}},[t._v("Periodicity:")]),t._v(" "),s("tm-select",{attrs:{id:"settings_dash_period_el",options:t.periods,title:"period",clearable:!0,"select-btn":!1,placeholder:"Select currency for reports"},model:{value:t.periodicity,callback:function(e){t.periodicity=e},expression:"periodicity"}})],1)])])],1),t._v(" "),s("v-snackbar",{attrs:{color:t.snackBarColor()},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v("\n        "+t._s(t.message)+"\n        "),s("v-btn",{attrs:{color:"white",flat:""},on:{click:function(e){t.showAlert=!1}}},[t._v("Close")])],1)],1)},[],!1,null,null,null);e.default=h.exports;u()(h,{VBtn:p.a,VProgressLinear:o.a,VSnackbar:a.a})},"7yMK":function(t,e,s){"use strict";var r=s("l26r");s.n(r).a},l26r:function(t,e,s){}}]);