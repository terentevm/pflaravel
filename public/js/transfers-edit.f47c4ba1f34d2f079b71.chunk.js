(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"6B1/":function(t,e,a){},"N+VB":function(t,e,a){"use strict";a.r(e);var s=a("EJiy"),n=a.n(s),l=a("QbLZ"),o=a.n(l),i=a("cqWK"),r=a("VXvu"),c=a("ojEh"),u=a("L2JU"),m=a("eMga"),d={props:["docId"],data:function(){return{processing:!1,showWalletSelection:!1,typeWalletEdit:-1,menu:!1,sumToReadOnly:!1,dictionary:{attributes:{walletFrom:"Wallet from",walletTo:"wallet to"},custom:{name:{required:function(){return"Name can not be empty"},max:"The name field may not be greater than 10 characters"}}}}},components:{"v-date-control":c.a,"tm-input":r.a,TMSelect:i.a},computed:o()({date:{get:function(){return this.$store.state.transfers.formData.date},set:function(t){this.$store.commit("setTransferDate",t)}},walletFrom:{get:function(){return this.$store.state.transfers.formData.walletFrom},set:function(t){this.$store.commit("setWalletFrom",t),this.walletsOnChange()}},walletTo:{get:function(){return this.$store.state.transfers.formData.walletTo},set:function(t){this.$store.commit("setWalletTo",t),this.walletsOnChange()}},sumFrom:{get:function(){return this.$store.state.transfers.formData.sumFrom},set:function(t){this.$store.commit("setSumFrom",m.a.round2(Number(t))),this.walletsOnChange()}},sumTo:{get:function(){return this.$store.state.transfers.formData.sumTo},set:function(t){this.$store.commit("setSumTo",m.a.round2(Number(t)))}}},Object(u.b)({wallets:"allWallets"})),beforeMount:function(){this.$store.state.title="Transfer",this.$store.commit("setupToolbarMenu",{}),this.$store.commit("setupToolbarMenu",this.getUpMenu()),this.$store.dispatch("getAllWallets"),this.$store.dispatch("getTransfer",this.docId)},methods:{getUpMenu:function(){var t=this;return{mainAction:{title:"Save",icon:"done",action:function(){t.save()}},menu:[{title:"Cancel",icon:"exit_to_app",action:function(){t.cancel()}}]}},dateOnChange:function(t){this.$store.commit("setTransferDate",t)},startWalletChoice:function(t){this.typeWalletEdit=t,this.showWalletSelection=!0},completeWalletSelectionHandler:function(t){void 0!==t&&"object"===(void 0===t?"undefined":n()(t))&&(1==this.typeWalletEdit?this.walletFrom=t:2==this.typeWalletEdit&&(this.walletTo=t)),this.showWalletSelection=!1},walletsOnChange:function(){this.walletFrom instanceof Object&&this.walletFrom.hasOwnProperty("currency")&&this.walletTo instanceof Object&&this.walletTo.hasOwnProperty("currency")&&(this.walletFrom.currency.id==this.walletTo.currency.id?(this.sumToReadOnly=!0,this.sumTo=this.sumFrom):this.sumToReadOnly=!1)},save:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.processing=!0,t.$store.dispatch("saveTransfer").then(function(){t.processing=!1,t.$router.push({path:"/transfers"})}).catch(function(e){t.processing=!1}))})},cancel:function(){this.$router.push({path:"/transfers"})}}},p=a("KHd+"),h=a("ZUTo"),f=a.n(h),v=a("jjY0"),b=Object(p.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"transfer-form-root"}},[!0===t.processing?a("v-progress-linear",{attrs:{indeterminate:!0}}):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6"},[a("div",{staticClass:"row d-flex"},[a("div",{staticClass:"form-group mx-1"},[a("label",{staticClass:"tm-lable",attrs:{for:"expense_date_el"}},[t._v("Date:")]),t._v(" "),a("v-date-control",{attrs:{date:t.date},on:{change:t.dateOnChange}})],1)])])]),t._v(" "),a("div",{staticClass:"row d-flex"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"d-flex flex-wrap"},[a("div",{staticClass:"form-group mx-1"},[a("label",{staticClass:"tm-lable",attrs:{for:"wallet_from_el"}},[t._v("From wallet:")]),t._v(" "),a("tm-select",{attrs:{id:"wallet_from_el",options:t.wallets,title:"name",clearable:!0,"select-btn":!0,placeholder:"Select wallet"},on:{open:function(e){return t.startWalletChoice(1)}},model:{value:t.walletFrom,callback:function(e){t.walletFrom=e},expression:"walletFrom"}})],1),t._v(" "),a("div",{staticClass:"form-group mx-1"},[a("label",{staticClass:"tm-lable",attrs:{for:"sum_from_el"}},[t._v("Sum:")]),t._v(" "),a("tm-input",{attrs:{id:"sum_from_el","input-type":"number",clearable:!0,"text-color":"#fc0303"},model:{value:t.sumFrom,callback:function(e){t.sumFrom=e},expression:"sumFrom"}})],1)])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"row d-flex"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"d-flex flex-wrap"},[a("div",{staticClass:"form-group mx-1"},[a("label",{staticClass:"tm-lable",attrs:{for:"wallet_to_input"}},[t._v("To wallet:")]),t._v(" "),a("tm-select",{attrs:{id:"wallet_to_input",options:t.wallets,title:"name",clearable:!0,"select-btn":!0,placeholder:"Select wallet"},on:{open:function(e){return t.startWalletChoice(2)}},model:{value:t.walletTo,callback:function(e){t.walletTo=e},expression:"walletTo"}})],1),t._v(" "),a("div",{staticClass:"form-group mx-1"},[a("label",{staticClass:"tm-lable",attrs:{for:"sum_to_input"}},[t._v("Sum:")]),t._v(" "),a("tm-input",{attrs:{id:"sum_to_input","input-type":"number",clearable:!0,"read-only":t.sumToReadOnly,"text-color":"#08a816"},model:{value:t.sumTo,callback:function(e){t.sumTo=e},expression:"sumTo"}})],1)])])]),t._v(" "),a("tm-wallets-select-form",{attrs:{items:this.wallets,showWalletSelection:this.showWalletSelection},on:{"select-wallets-close":t.completeWalletSelectionHandler}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row d-flex"},[e("div",{staticClass:"tm_divider mx-1"})])}],!1,null,null,null);e.default=b.exports;f()(b,{VProgressLinear:v.a})},Rerx:function(t,e,a){},VXvu:function(t,e,a){"use strict";var s=a("QbLZ"),n=a.n(s),l=a("OqrG"),o=a("eMga"),i={name:"TMInput",props:{id:{type:String,reqired:!0},placeholder:{type:String,default:""},value:{reqired:!0},inputType:{type:String,default:"text"},autocomplete:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},textColor:{type:String,default:"#000000"}},data:function(){return{showList:!1,inputFocused:!1,currentValue:"",styleObject:{color:"#000000"}}},components:n()({},l.a),computed:{childComponents:function(){return n()({},l.a)},scope:function(){var t=this;return{search:{attributes:{id:this.id,placeholder:this.placeholder,readonly:this.readOnly,value:this.inputValue,ref:"search","aria-label":"Input value",role:"textbox",type:this.inputType,autocomplete:this.autocomplete,autofocus:!0},events:{input:function(e){return t.inputValue=e.target.value},focus:this.onInputFocus,blur:this.inputBlur}}}},inputValue:{get:function(){return this.value},set:function(t){var e="number"===this.inputType?o.a.round2(Number(t)):t;this.$emit("input",e)}}},mounted:function(){this.inputValue=this.value,this.styleObject.color=this.textColor,document.getElementById(this.id).focus()},methods:{setInternalValue:function(t){this.inputValue=t},clear:function(t){this.inputValue="number"===this.inputType?0:""},onInputFocus:function(t){this.inputFocused=!0,this.$emit("focus")},inputBlur:function(t){this.inputFocused=!1}}},r=(a("akIG"),a("KHd+")),c=Object(r.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tm_input_wrapper",class:{focused:1==t.inputFocused}},[a("input",t._g(t._b({staticClass:"tm_input",style:t.styleObject},"input",t.scope.search.attributes,!1),t.scope.search.events)),t._v(" "),t.clearable&&!t.readOnly?a("div",{staticClass:"tm_input_btn_wrapper"},[a("button",{staticClass:"tm_input_btn",attrs:{type:"button"},on:{click:t.clear}},[a(t.childComponents.Clear,{tag:"component",staticClass:"tm_icon"})],1)]):t._e()])},[],!1,null,"6dc0dbc4",null);e.a=c.exports},akIG:function(t,e,a){"use strict";var s=a("6B1/");a.n(s).a},ojEh:function(t,e,a){"use strict";var s=a("Lku0"),n=a("Mm0z"),l=a("wd/R"),o=a.n(l),i={name:"TMDateControl",props:{date:{type:String,required:!0},label:{type:String,default:"Date"}},data:function(){return{dateSelection:!1}},components:{VMenu:n.a,"v-date-picker":s.a},methods:{dateOnChange:function(t){this.$emit("change",t)},addDay:function(){this.$emit("change",o()(this.date).add(1,"day").format("YYYY-MM-DD"))},subDay:function(){this.$emit("change",o()(this.date).subtract(1,"day").format("YYYY-MM-DD"))}}},r=(a("tNY0"),a("KHd+")),c=a("ZUTo"),u=a.n(c),m=a("5Emp"),d=Object(r.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tm_select_wrapper"},[a("div",{staticClass:"tm_select_input_wrapper"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"inherit","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("input",t._g({staticClass:"date-input",attrs:{slot:"activator",type:"text","aria-label":"Date","aria-describedby":"document date",readonly:""},domProps:{value:t.date},slot:"activator"},s))]}}]),model:{value:t.dateSelection,callback:function(e){t.dateSelection=e},expression:"dateSelection"}},[t._v(" "),a("v-date-picker",{attrs:{"header-color":"appColor",value:t.date},on:{change:t.dateOnChange,input:function(e){t.dateSelection=!1}}})],1)],1),t._v(" "),a("div",{staticClass:"btn_wrapper"},[a("button",{staticClass:"btn-move-date",attrs:{type:"button"},on:{click:t.subDay}},[a("i",{staticClass:"material-icons",staticStyle:{fill:"#394066"}},[t._v("arrow_back_ios")])]),t._v(" "),a("button",{staticClass:"btn-move-date",attrs:{type:"button"},on:{click:t.addDay}},[a("i",{staticClass:"material-icons"},[t._v("arrow_forward_ios")])])])])},[],!1,null,"27355b97",null);e.a=d.exports;u()(d,{VDatePicker:s.a,VMenu:m.a})},tNY0:function(t,e,a){"use strict";var s=a("Rerx");a.n(s).a}}]);