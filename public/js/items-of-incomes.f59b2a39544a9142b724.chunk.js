(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"5eg+":function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),o=a.n(i),n=a("Aozi"),r=a("L2JU"),s=a("YolW"),l=new n.a,c={data:function(){return{headers:[{text:"Name",value:"name"}],dialog:!1,formTitle:"New",editedIndex:-1,processing:!1,formData:{id:null,name:"",parent_id:null,active:!0,comment:""}}},components:{"tm-tree":s.a},computed:o()({},Object(r.b)({items:"allIncomeItemsHierarchically",itemslist:"allIncomeItems"})),beforeMount:function(){this.$store.state.title="Income items",this.$store.dispatch("getAllIncomeItemsHierarchically"),this.$store.commit("setupToolbarMenu",this.getUpMenu())},watch:{dialog:function(t){t||this.close()}},methods:{getUpMenu:function(){var t=this;return{mainAction:{title:"add",icon:"add",action:function(){t.add()}},menu:[{title:"update",icon:"update",action:function(){t.update()}}]}},add:function(){this.formTitle="New",this.formData={id:null,name:"",parent_id:null,active:!0,comment:""},this.dialog=!0},update:function(){this.$store.dispatch("getAllIncomeItemsHierarchically")},openFormElement:function(t){this.copyObject(this.formData,t),this.dialog=!0,this.formTitle=t.name},close:function(){this.dialog=!1},save:function(){var t=this;this.processing=!0,(null===this.formData.id?l.store("itemsincome",this.formData):l.update("itemsincome",this.formData.id,this.formData)).then(function(e){t.close(),t.update()}).catch(function(t){alert("Error!")}).finally(function(){t.processing=!1})}}},m=(a("Ppw7"),a("KHd+")),d=a("ZUTo"),u=a.n(d),v=a("xqZp"),f=a("gzZi"),p=a("sK+t"),h=a("mdmw"),b=a("rHzn"),x=a("pSOK"),g=a("FpqX"),_=a("Do8S"),D=a("Ey0z"),w=a("pyJu"),k=a("jjY0"),V=a("mRA0"),I=a("Jnd4"),y=a("cdmR"),T=a("Kn9U"),F=Object(m.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[a("v-dialog",{attrs:{"max-width":"350",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"appColor",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("shopping_basket")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"","d-none":""}},[a("v-text-field",{attrs:{label:"id"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{label:"Parent",items:t.itemslist,"cache-items":!0,"item-text":"name","item-value":"id",clearable:!0},model:{value:t.formData.parent_id,callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-checkbox",{attrs:{color:"primary",label:"Active item"},model:{value:t.formData.active,callback:function(e){t.$set(t.formData,"active",e)},expression:"formData.active"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel\n                        ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-3",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1),t._v(" "),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.processing,expression:"processing"}],attrs:{indeterminate:!0}})],1)],1),t._v(" "),a("div",{staticClass:"table-wrapper"},[a("tm-tree",{attrs:{items:t.items},on:{itemclick:t.openFormElement}})],1)],1)],1)],1)},[],!1,null,"12cec070",null);e.default=F.exports;u()(F,{VAutocomplete:v.a,VBtn:f.a,VCard:p.a,VCardActions:h.a,VCardText:h.b,VCheckbox:b.a,VContainer:x.a,VDialog:g.a,VFlex:_.a,VIcon:D.a,VLayout:w.a,VProgressLinear:k.a,VSpacer:V.a,VTextField:I.a,VToolbar:y.a,VToolbarTitle:T.b})},OIFF:function(t,e,a){},Ppw7:function(t,e,a){"use strict";var i=a("OIFF");a.n(i).a}}]);