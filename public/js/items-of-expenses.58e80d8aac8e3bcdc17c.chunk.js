(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Tp3N:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),n=a.n(i),o=a("Aozi"),s=a("L2JU"),r=a("OafC"),l=a("xqZp"),c=new o.a,m={data:function(){return{headers:[{text:"Name",value:"name"}],dialog:!1,formTitle:"New",editedIndex:-1,processing:!1,formData:{id:null,name:"",parent_id:null,active:!0,comment:""}}},components:{VAutocomplete:l.a,"tm-tree":r.a},computed:n()({},Object(s.b)({items:"allExpenseItemsHierarchically",itemslist:"allExpenseItems"})),beforeMount:function(){this.$store.state.title="Expenditure items",this.$store.dispatch("getAllExpenseItemsHierarchically"),this.$store.commit("setupToolbarMenu",this.getUpMenu())},watch:{dialog:function(t){t||this.close()}},methods:{getUpMenu:function(){var t=this;return{mainAction:{title:"add",icon:"add",action:function(){t.add()}},menu:[{title:"update",icon:"update",action:function(){t.update()}}]}},add:function(){this.formTitle="New",this.formData={id:null,name:"",parent_id:null,active:!0,comment:""},this.dialog=!0},update:function(){this.$store.dispatch("getAllExpenseItemsHierarchically")},openFormElement:function(t){this.copyObject(this.formData,t),this.dialog=!0,this.formTitle=t.name},close:function(){this.dialog=!1},save:function(){var t=this;this.processing=!0,(null===this.formData.id?c.store("itemsexpense",this.formData):c.update("itemsexpense",this.formData.id,this.formData)).then(function(e){t.close(),t.update()}).catch(function(t){alert("Error!")}).finally(function(){t.processing=!1})}}},d=(a("p7sT"),a("KHd+")),u=a("ZUTo"),p=a.n(u),v=a("gzZi"),f=a("sK+t"),h=a("mdmw"),b=a("rHzn"),x=a("pSOK"),g=a("FpqX"),_=a("Do8S"),D=a("Ey0z"),w=a("pyJu"),k=a("jjY0"),V=a("mRA0"),T=a("Jnd4"),C=a("cdmR"),y=a("Kn9U"),A=Object(d.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("v-dialog",{attrs:{"max-width":"350",persistent:"",fullscreen:t.$vuetify.breakpoint.smAndDown},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"appColor",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("shopping_basket")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"","d-none":""}},[a("v-text-field",{attrs:{label:"id"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{label:"Parent",items:t.itemslist,"cache-items":!0,"item-text":"name","item-value":"id",clearable:!0},model:{value:t.formData.parent_id,callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-checkbox",{attrs:{color:"primary",label:"Active item"},model:{value:t.formData.active,callback:function(e){t.$set(t.formData,"active",e)},expression:"formData.active"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel\n                ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-3",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1),t._v(" "),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.processing,expression:"processing"}],attrs:{indeterminate:!0}})],1)],1),t._v(" "),a("div",{staticClass:"table-wrapper"},[a("tm-tree",{attrs:{items:t.items},on:{itemclick:t.openFormElement}})],1)],1)},[],!1,null,"12b88627",null);e.default=A.exports;p()(A,{VAutocomplete:l.a,VBtn:v.a,VCard:f.a,VCardActions:h.a,VCardText:h.b,VCheckbox:b.a,VContainer:x.a,VDialog:g.a,VFlex:_.a,VIcon:D.a,VLayout:w.a,VProgressLinear:k.a,VSpacer:V.a,VTextField:T.a,VToolbar:C.a,VToolbarTitle:y.b})},j0CH:function(t,e,a){},p7sT:function(t,e,a){"use strict";var i=a("j0CH");a.n(i).a}}]);